\hypertarget{flash__test_8h}{}\section{src/\+F\+L\+A\+S\+H/flash\+\_\+test.h File Reference}
\label{flash__test_8h}\index{src/\+F\+L\+A\+S\+H/flash\+\_\+test.\+h@{src/\+F\+L\+A\+S\+H/flash\+\_\+test.\+h}}


Mooltipass Flash IC Library Test Functions Header Created\+: 31/3/2014 Author\+: Michael Neiderhauser.  


{\ttfamily \#include \char`\"{}defines.\+h\char`\"{}}\\*
{\ttfamily \#include $<$stdint.\+h$>$}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries F\+L\+A\+S\+H\+\_\+\+T\+E\+S\+T\+\_\+\+I\+N\+I\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+P\+O\+L\+I\+C\+Y\+\_\+\+Z\+E\+RO}~0\hypertarget{flash__test_8h_a238970e25a8e7700e292b7fda881aa57}{}\label{flash__test_8h_a238970e25a8e7700e292b7fda881aa57}

\item 
\#define {\bfseries F\+L\+A\+S\+H\+\_\+\+T\+E\+S\+T\+\_\+\+I\+N\+I\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+P\+O\+L\+I\+C\+Y\+\_\+\+O\+NE}~1\hypertarget{flash__test_8h_a71055dcf8c6135e775ea8d0b46771106}{}\label{flash__test_8h_a71055dcf8c6135e775ea8d0b46771106}

\item 
\#define {\bfseries F\+L\+A\+S\+H\+\_\+\+T\+E\+S\+T\+\_\+\+I\+N\+I\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+P\+O\+L\+I\+C\+Y\+\_\+\+I\+NC}~2\hypertarget{flash__test_8h_a75bc13782ae5ba5295d5f79a488d27a2}{}\label{flash__test_8h_a75bc13782ae5ba5295d5f79a488d27a2}

\item 
\#define {\bfseries F\+L\+A\+S\+H\+\_\+\+T\+E\+S\+T\+\_\+\+I\+N\+I\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+P\+O\+L\+I\+C\+Y\+\_\+\+R\+ND}~3\hypertarget{flash__test_8h_a8755da613d56873f88f7d1216a22acbe}{}\label{flash__test_8h_a8755da613d56873f88f7d1216a22acbe}

\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{flash__test_8h_ae40056a2bb57d5c9891be4e093e52347}{init\+Buffer} (uint8\+\_\+t $\ast$buffer, uint16\+\_\+t buffer\+Size, uint8\+\_\+t policy)
\begin{DoxyCompactList}\small\item\em A helper function that populates a buffer. \end{DoxyCompactList}\item 
R\+E\+T\+\_\+\+T\+Y\+PE \hyperlink{flash__test_8h_a6fec81298daebaa15ed043871b46d2e3}{flash\+Init\+Test} (void)
\begin{DoxyCompactList}\small\item\em A Testing wrapper that tests flash init (reading manf id\textquotesingle{}s) T\+H\+IS T\+E\+ST M\+U\+ST BE R\+UN -\/$>$ Sets up S\+PI. \end{DoxyCompactList}\item 
R\+E\+T\+\_\+\+T\+Y\+PE \hyperlink{flash__test_8h_ab2225b8bf4f6b47dec0dd5f1047780ea}{flash\+Write\+Read\+Test} (uint8\+\_\+t $\ast$buffer\+In, uint8\+\_\+t $\ast$buffer\+Out, uint16\+\_\+t buffer\+Size)
\begin{DoxyCompactList}\small\item\em A Testing wrapper that tests page write, and page read. \end{DoxyCompactList}\item 
R\+E\+T\+\_\+\+T\+Y\+PE \hyperlink{flash__test_8h_a81d76647d0d55fcfc9910692b873356a}{flash\+Write\+Read\+Offset\+Test} (uint8\+\_\+t $\ast$buffer\+In, uint8\+\_\+t $\ast$buffer\+Out, uint16\+\_\+t buffer\+Size)
\begin{DoxyCompactList}\small\item\em A Testing wrapper that tests page write, and page read. Uses buffer\+Size / N\+O\+D\+E\+\_\+\+S\+I\+Z\+E\+\_\+\+P\+A\+R\+E\+NT for offset calculation. \end{DoxyCompactList}\item 
R\+E\+T\+\_\+\+T\+Y\+PE \hyperlink{flash__test_8h_a90a74115345744a42a78757da954fb9a}{flash\+Erase\+Page\+Test} (uint8\+\_\+t $\ast$buffer\+In, uint8\+\_\+t $\ast$buffer\+Out, uint16\+\_\+t buffer\+Size)
\begin{DoxyCompactList}\small\item\em A Testing wrapper that tests erasing all pages in flash. \end{DoxyCompactList}\item 
R\+E\+T\+\_\+\+T\+Y\+PE \hyperlink{flash__test_8h_a31459107d1e28d723ded29c6d32e108c}{flash\+Erase\+Block\+Test} (uint8\+\_\+t $\ast$buffer\+In, uint8\+\_\+t $\ast$buffer\+Out, uint16\+\_\+t buffer\+Size)
\begin{DoxyCompactList}\small\item\em A Testing wrapper that tests erasing all blocks in flash. \end{DoxyCompactList}\item 
R\+E\+T\+\_\+\+T\+Y\+PE \hyperlink{flash__test_8h_a6f8e0a618320e8a763fdb8ff5506fc9f}{flash\+Erase\+Sector\+X\+Test} (uint8\+\_\+t $\ast$buffer\+In, uint8\+\_\+t $\ast$buffer\+Out, uint16\+\_\+t buffer\+Size)
\begin{DoxyCompactList}\small\item\em A Testing wrapper that tests erasing S\+E\+C\+T\+O\+R\+\_\+\+S\+T\+A\+RT through S\+E\+C\+T\+O\+R\+\_\+\+E\+ND. \end{DoxyCompactList}\item 
R\+E\+T\+\_\+\+T\+Y\+PE {\bfseries flash\+Erase\+Sector\+Zero\+Test} (uint8\+\_\+t $\ast$buffer\+In, uint8\+\_\+t $\ast$buffer\+Out, uint16\+\_\+t buffer\+Size)\hypertarget{flash__test_8h_a7673dd5cd2d6c44e72afaa4c6db0746c}{}\label{flash__test_8h_a7673dd5cd2d6c44e72afaa4c6db0746c}

\item 
R\+E\+T\+\_\+\+T\+Y\+PE \hyperlink{flash__test_8h_ab16c9017a691a3a0894cb3adac2b5cf7}{flash\+Test} (void)\hypertarget{flash__test_8h_ab16c9017a691a3a0894cb3adac2b5cf7}{}\label{flash__test_8h_ab16c9017a691a3a0894cb3adac2b5cf7}

\begin{DoxyCompactList}\small\item\em Primary entry point for flash testing. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Mooltipass Flash IC Library Test Functions Header Created\+: 31/3/2014 Author\+: Michael Neiderhauser. 



\subsection{Function Documentation}
\index{flash\+\_\+test.\+h@{flash\+\_\+test.\+h}!flash\+Erase\+Block\+Test@{flash\+Erase\+Block\+Test}}
\index{flash\+Erase\+Block\+Test@{flash\+Erase\+Block\+Test}!flash\+\_\+test.\+h@{flash\+\_\+test.\+h}}
\subsubsection[{\texorpdfstring{flash\+Erase\+Block\+Test(uint8\+\_\+t $\ast$buffer\+In, uint8\+\_\+t $\ast$buffer\+Out, uint16\+\_\+t buffer\+Size)}{flashEraseBlockTest(uint8_t *bufferIn, uint8_t *bufferOut, uint16_t bufferSize)}}]{\setlength{\rightskip}{0pt plus 5cm}R\+E\+T\+\_\+\+T\+Y\+PE flash\+Erase\+Block\+Test (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{buffer\+In, }
\item[{uint8\+\_\+t $\ast$}]{buffer\+Out, }
\item[{uint16\+\_\+t}]{buffer\+Size}
\end{DoxyParamCaption}
)}\hypertarget{flash__test_8h_a31459107d1e28d723ded29c6d32e108c}{}\label{flash__test_8h_a31459107d1e28d723ded29c6d32e108c}


A Testing wrapper that tests erasing all blocks in flash. 


\begin{DoxyParams}{Parameters}
{\em buffer\+In} & One of the two testing buffers -\/$>$ Should be size of B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+GE \\
\hline
{\em buffer\+Out} & One of the two testing buffers -\/$>$ Should be size of B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+GE \\
\hline
{\em buffer\+Size} & Should always be B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+GE \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Test Status 
\end{DoxyReturn}
\index{flash\+\_\+test.\+h@{flash\+\_\+test.\+h}!flash\+Erase\+Page\+Test@{flash\+Erase\+Page\+Test}}
\index{flash\+Erase\+Page\+Test@{flash\+Erase\+Page\+Test}!flash\+\_\+test.\+h@{flash\+\_\+test.\+h}}
\subsubsection[{\texorpdfstring{flash\+Erase\+Page\+Test(uint8\+\_\+t $\ast$buffer\+In, uint8\+\_\+t $\ast$buffer\+Out, uint16\+\_\+t buffer\+Size)}{flashErasePageTest(uint8_t *bufferIn, uint8_t *bufferOut, uint16_t bufferSize)}}]{\setlength{\rightskip}{0pt plus 5cm}R\+E\+T\+\_\+\+T\+Y\+PE flash\+Erase\+Page\+Test (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{buffer\+In, }
\item[{uint8\+\_\+t $\ast$}]{buffer\+Out, }
\item[{uint16\+\_\+t}]{buffer\+Size}
\end{DoxyParamCaption}
)}\hypertarget{flash__test_8h_a90a74115345744a42a78757da954fb9a}{}\label{flash__test_8h_a90a74115345744a42a78757da954fb9a}


A Testing wrapper that tests erasing all pages in flash. 


\begin{DoxyParams}{Parameters}
{\em buffer\+In} & One of the two testing buffers -\/$>$ Should be size of B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+GE \\
\hline
{\em buffer\+Out} & One of the two testing buffers -\/$>$ Should be size of B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+GE \\
\hline
{\em buffer\+Size} & Should always be B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+GE \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Test Status 
\end{DoxyReturn}
\index{flash\+\_\+test.\+h@{flash\+\_\+test.\+h}!flash\+Erase\+Sector\+X\+Test@{flash\+Erase\+Sector\+X\+Test}}
\index{flash\+Erase\+Sector\+X\+Test@{flash\+Erase\+Sector\+X\+Test}!flash\+\_\+test.\+h@{flash\+\_\+test.\+h}}
\subsubsection[{\texorpdfstring{flash\+Erase\+Sector\+X\+Test(uint8\+\_\+t $\ast$buffer\+In, uint8\+\_\+t $\ast$buffer\+Out, uint16\+\_\+t buffer\+Size)}{flashEraseSectorXTest(uint8_t *bufferIn, uint8_t *bufferOut, uint16_t bufferSize)}}]{\setlength{\rightskip}{0pt plus 5cm}R\+E\+T\+\_\+\+T\+Y\+PE flash\+Erase\+Sector\+X\+Test (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{buffer\+In, }
\item[{uint8\+\_\+t $\ast$}]{buffer\+Out, }
\item[{uint16\+\_\+t}]{buffer\+Size}
\end{DoxyParamCaption}
)}\hypertarget{flash__test_8h_a6f8e0a618320e8a763fdb8ff5506fc9f}{}\label{flash__test_8h_a6f8e0a618320e8a763fdb8ff5506fc9f}


A Testing wrapper that tests erasing S\+E\+C\+T\+O\+R\+\_\+\+S\+T\+A\+RT through S\+E\+C\+T\+O\+R\+\_\+\+E\+ND. 

A Testing wrapper that tests erasing F\+L\+A\+S\+H\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+Z\+E\+R\+O\+\_\+\+A\+\_\+\+C\+O\+DE and F\+L\+A\+S\+H\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+Z\+E\+R\+O\+\_\+\+B\+\_\+\+C\+O\+DE.


\begin{DoxyParams}{Parameters}
{\em buffer\+In} & One of the two testing buffers -\/$>$ Should be size of B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+GE \\
\hline
{\em buffer\+Out} & One of the two testing buffers -\/$>$ Should be size of B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+GE \\
\hline
{\em buffer\+Size} & Should always be B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+GE \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Test Status 
\end{DoxyReturn}
\index{flash\+\_\+test.\+h@{flash\+\_\+test.\+h}!flash\+Init\+Test@{flash\+Init\+Test}}
\index{flash\+Init\+Test@{flash\+Init\+Test}!flash\+\_\+test.\+h@{flash\+\_\+test.\+h}}
\subsubsection[{\texorpdfstring{flash\+Init\+Test(void)}{flashInitTest(void)}}]{\setlength{\rightskip}{0pt plus 5cm}R\+E\+T\+\_\+\+T\+Y\+PE flash\+Init\+Test (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{flash__test_8h_a6fec81298daebaa15ed043871b46d2e3}{}\label{flash__test_8h_a6fec81298daebaa15ed043871b46d2e3}


A Testing wrapper that tests flash init (reading manf id\textquotesingle{}s) T\+H\+IS T\+E\+ST M\+U\+ST BE R\+UN -\/$>$ Sets up S\+PI. 

\begin{DoxyReturn}{Returns}
Test Status 
\end{DoxyReturn}
\index{flash\+\_\+test.\+h@{flash\+\_\+test.\+h}!flash\+Write\+Read\+Offset\+Test@{flash\+Write\+Read\+Offset\+Test}}
\index{flash\+Write\+Read\+Offset\+Test@{flash\+Write\+Read\+Offset\+Test}!flash\+\_\+test.\+h@{flash\+\_\+test.\+h}}
\subsubsection[{\texorpdfstring{flash\+Write\+Read\+Offset\+Test(uint8\+\_\+t $\ast$buffer\+In, uint8\+\_\+t $\ast$buffer\+Out, uint16\+\_\+t buffer\+Size)}{flashWriteReadOffsetTest(uint8_t *bufferIn, uint8_t *bufferOut, uint16_t bufferSize)}}]{\setlength{\rightskip}{0pt plus 5cm}R\+E\+T\+\_\+\+T\+Y\+PE flash\+Write\+Read\+Offset\+Test (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{buffer\+In, }
\item[{uint8\+\_\+t $\ast$}]{buffer\+Out, }
\item[{uint16\+\_\+t}]{buffer\+Size}
\end{DoxyParamCaption}
)}\hypertarget{flash__test_8h_a81d76647d0d55fcfc9910692b873356a}{}\label{flash__test_8h_a81d76647d0d55fcfc9910692b873356a}


A Testing wrapper that tests page write, and page read. Uses buffer\+Size / N\+O\+D\+E\+\_\+\+S\+I\+Z\+E\+\_\+\+P\+A\+R\+E\+NT for offset calculation. 


\begin{DoxyParams}{Parameters}
{\em buffer\+In} & One of the two testing buffers -\/$>$ Should be size of B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+GE \\
\hline
{\em buffer\+Out} & One of the two testing buffers -\/$>$ Should be size of B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+GE \\
\hline
{\em buffer\+Size} & Should always be B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+GE \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Test Status 
\end{DoxyReturn}
\index{flash\+\_\+test.\+h@{flash\+\_\+test.\+h}!flash\+Write\+Read\+Test@{flash\+Write\+Read\+Test}}
\index{flash\+Write\+Read\+Test@{flash\+Write\+Read\+Test}!flash\+\_\+test.\+h@{flash\+\_\+test.\+h}}
\subsubsection[{\texorpdfstring{flash\+Write\+Read\+Test(uint8\+\_\+t $\ast$buffer\+In, uint8\+\_\+t $\ast$buffer\+Out, uint16\+\_\+t buffer\+Size)}{flashWriteReadTest(uint8_t *bufferIn, uint8_t *bufferOut, uint16_t bufferSize)}}]{\setlength{\rightskip}{0pt plus 5cm}R\+E\+T\+\_\+\+T\+Y\+PE flash\+Write\+Read\+Test (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{buffer\+In, }
\item[{uint8\+\_\+t $\ast$}]{buffer\+Out, }
\item[{uint16\+\_\+t}]{buffer\+Size}
\end{DoxyParamCaption}
)}\hypertarget{flash__test_8h_ab2225b8bf4f6b47dec0dd5f1047780ea}{}\label{flash__test_8h_ab2225b8bf4f6b47dec0dd5f1047780ea}


A Testing wrapper that tests page write, and page read. 


\begin{DoxyParams}{Parameters}
{\em buffer\+In} & One of the two testing buffers -\/$>$ Should be size of B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+GE \\
\hline
{\em buffer\+Out} & One of the two testing buffers -\/$>$ Should be size of B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+GE \\
\hline
{\em buffer\+Size} & Should always be B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+GE \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Test Status 
\end{DoxyReturn}
\index{flash\+\_\+test.\+h@{flash\+\_\+test.\+h}!init\+Buffer@{init\+Buffer}}
\index{init\+Buffer@{init\+Buffer}!flash\+\_\+test.\+h@{flash\+\_\+test.\+h}}
\subsubsection[{\texorpdfstring{init\+Buffer(uint8\+\_\+t $\ast$buffer, uint16\+\_\+t buffer\+Size, uint8\+\_\+t policy)}{initBuffer(uint8_t *buffer, uint16_t bufferSize, uint8_t policy)}}]{\setlength{\rightskip}{0pt plus 5cm}void init\+Buffer (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{buffer, }
\item[{uint16\+\_\+t}]{buffer\+Size, }
\item[{uint8\+\_\+t}]{policy}
\end{DoxyParamCaption}
)}\hypertarget{flash__test_8h_ae40056a2bb57d5c9891be4e093e52347}{}\label{flash__test_8h_ae40056a2bb57d5c9891be4e093e52347}


A helper function that populates a buffer. 


\begin{DoxyParams}{Parameters}
{\em buffer} & The buffer to populate \\
\hline
{\em buffer\+Size} & The size of the buffer \\
\hline
{\em policy} & The population policy. (All Ones, All Zeros, Random, Increment) \\
\hline
\end{DoxyParams}
